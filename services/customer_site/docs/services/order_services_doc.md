<!DOCTYPE html><html lang="fa" dir="rtl"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Ù…Ø³ØªÙ†Ø¯ Ø³ÛŒØ³ØªÙ… Ø³ÙØ§Ø±Ø´â€ŒØ¯Ù‡ÛŒ</title><style>:root{--bg-color:#0f172a;--fg-color:#e2e8f0;--card-bg:#1e293b;--border-color:#334155;--accent-color:#8b5cf6;--highlight-bg:#a78bfa;--code-bg:#020617;--green:#4ade80;--yellow:#facc15;--red:#f87171;--blue:#38bdf8;}@font-face{font-family:'Vazirmatn';src:url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css');font-weight:100 900;font-display:swap;}body{background-color:var(--bg-color);color:var(--fg-color);font-family:'Vazirmatn',sans-serif;line-height:1.8;margin:0;padding:0;font-size:16px;}.container{max-width:980px;margin:2rem auto;padding:1rem 2rem;}header{text-align:center;margin-bottom:3rem;padding-bottom:2rem;border-bottom:1px solid var(--border-color);}h1{font-size:2.4rem;color:var(--accent-color);margin-bottom:0.5rem;}h2{font-size:1.8rem;color:var(--fg-color);border-bottom:2px solid var(--border-color);padding-bottom:0.75rem;margin-top:3rem;display:flex;align-items:center;gap:0.5rem;}pre{background-color:var(--code-bg);border:1px solid var(--border-color);border-radius:8px;padding:1.2rem;overflow-x:auto;font-family:'Fira Code','Consolas',monospace;font-size:0.9rem;direction:ltr;text-align:left;margin:1rem 0;}.note{background-color:rgba(139,92,246,0.1);border-right:4px solid var(--accent-color);padding:1rem 1.5rem;margin:1.5rem 0;border-radius:6px;}.transaction{background-color:rgba(56,189,248,0.1);border-right:4px solid var(--blue);padding:1rem 1.5rem;margin:1.5rem 0;border-radius:6px;}.badge{display:inline-block;padding:0.2rem 0.6rem;border-radius:4px;font-size:0.8rem;font-weight:bold;margin-left:0.5rem;vertical-align:middle;background:rgba(250,204,21,0.15);color:var(--yellow);}ul{list-style:none;padding:0;}li{position:relative;padding-right:1.5rem;margin-bottom:0.8rem;}li::before{content:"ğŸ“¦";position:absolute;right:0;font-size:0.8rem;}code{font-family:inherit;color:var(--yellow);background:rgba(255,255,255,0.05);padding:0.1rem 0.3rem;border-radius:3px;}footer{text-align:center;margin-top:4rem;padding-top:2rem;border-top:1px dashed var(--border-color);color:#64748b;}</style></head><body><div class="container"><header><h1>Ù…Ø³ØªÙ†Ø¯ Ø³ÛŒØ³ØªÙ… Ø³ÙØ§Ø±Ø´â€ŒØ¯Ù‡ÛŒ (Order System)</h1><p style="color:#94a3b8">Ù…Ú©Ø§Ù†ÛŒØ²Ù… ØªØ¨Ø¯ÛŒÙ„ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø¨Ù‡ Ø³ÙØ§Ø±Ø´ Ùˆ ØªØ±Ø§Ú©Ù†Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø§Ù„ÛŒ</p></header><section><h2>Û±. ÙØ±Ø¢ÛŒÙ†Ø¯ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ (Order Flow)</h2><p>ÙØ±Ø¢ÛŒÙ†Ø¯ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ ÛŒÚ© Ø¹Ù…Ù„ÛŒØ§Øª Ø­Ø³Ø§Ø³ Ùˆ Ú†Ù†Ø¯Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ÛŒØ¯ ØªØ¶Ù…ÛŒÙ† Ú©Ù†Ø¯ ÛŒØ§ Ù‡Ù…Ù‡ Ù…Ø±Ø§Ø­Ù„ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ ÛŒØ§ Ù‡ÛŒÚ†Ú©Ø¯Ø§Ù… (Atomicity).</p><div class="transaction"><strong>Ù…Ø±Ø§Ø­Ù„ ØªØ±Ø§Ú©Ù†Ø´ Ø§ØªÙ…ÛŒÚ©:</strong><ol><li>Ø¨Ø±Ø±Ø³ÛŒ Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ú©Ø§Ø±Ø¨Ø± (`WalletDomainService`).</li><li>Ø§ÛŒØ¬Ø§Ø¯ Ø±Ú©ÙˆØ±Ø¯ Ø³ÙØ§Ø±Ø´ Ø¯Ø± ÙˆØ¶Ø¹ÛŒØª "Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ø¨Ø±Ø±Ø³ÛŒ".</li><li>Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ Ø§Ø² `CartItem` Ø¨Ù‡ `OrderItem`.</li><li>Ø§Ù†ØªÙ‚Ø§Ù„ Ø±ÙØ±Ù†Ø³ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø§Ø² Ø³Ø¨Ø¯ Ø¨Ù‡ Ø³ÙØ§Ø±Ø´.</li><li>Ø­Ø°Ù Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯.</li><li>Ú©Ø³Ø± Ù…Ø¨Ù„Øº Ø§Ø² Ú©ÛŒÙ Ù¾ÙˆÙ„.</li></ol></div></section><section><h2>Û². Ø³Ø±ÙˆÛŒØ³ `CreateOrderFromCartService`</h2><p>Ø§ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ Ø¯Ø± Ù„Ø§ÛŒÙ‡ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯ Ùˆ ÙˆØ¸ÛŒÙÙ‡ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø¨ÛŒÙ† Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ù…ÛŒÙ† Ø±Ø§ Ø¯Ø§Ø±Ø¯. Ø§ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ Ù‡ÛŒÚ† Ù…Ù†Ø·Ù‚ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ÛŒ Ù…Ø³ØªÙ‚ÛŒÙ…ÛŒ Ù†Ø¯Ø§Ø±Ø¯ Ùˆ ÙÙ‚Ø· Ù…ØªØ¯Ù‡Ø§ÛŒ `OrderDomainService` Ùˆ `WalletDomainService` Ø±Ø§ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.</p></section><section><h2>Û³. Ù…Ø¯ÛŒØ±ÛŒØª ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´</h2><p>ÛŒÚ©ÛŒ Ø§Ø² Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ† Ø³ÛŒØ³ØªÙ…ØŒ Ø­ÙØ¸ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ø§Ø³Øª. ÙˆÙ‚ØªÛŒ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ù¾Ø§Ú© Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø·Ø±Ø§Ø­ÛŒ Ù†Ø¨Ø§ÛŒØ¯ Ù¾Ø§Ú© Ø´ÙˆÙ†Ø¯. Ø¯Ø± `OrderDomainService`ØŒ Ù…Ø§ Ø¢Ø¨Ø¬Ú©Øªâ€ŒÙ‡Ø§ÛŒ `DesignFile` Ø¬Ø¯ÛŒØ¯ÛŒ Ù…ÛŒâ€ŒØ³Ø§Ø²ÛŒÙ… Ú©Ù‡ Ø¨Ù‡ Ù‡Ù…Ø§Ù† ÙØ§ÛŒÙ„ ÙÛŒØ²ÛŒÚ©ÛŒ Ø§Ø´Ø§Ø±Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŒ Ø¨Ù†Ø§Ø¨Ø±Ø§ÛŒÙ† Ø¨Ø§ Ø­Ø°Ù Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ØŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø¯Ø± Ø³ÙØ§Ø±Ø´ Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯.</p></section><section><h2>Û´. Ø³Ø§Ø®ØªØ§Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø³ÙØ§Ø±Ø´</h2><pre><code>Order
â”œâ”€â”€ User (Ø®Ø±ÛŒØ¯Ø§Ø±)
â”œâ”€â”€ Address (Ø¢Ø¯Ø±Ø³ ØªØ­ÙˆÛŒÙ„)
â”œâ”€â”€ OrderStatus (ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ)
â””â”€â”€ OrderItems (Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª)
    â”œâ”€â”€ Product (Ù…Ø­ØµÙˆÙ„)
    â”œâ”€â”€ Quantity/Price (Ù‚ÛŒÙ…Øª ÙØ±ÛŒØ² Ø´Ø¯Ù‡ Ø¯Ø± Ù„Ø­Ø¸Ù‡ Ø®Ø±ÛŒØ¯)
    â””â”€â”€ DesignFiles (ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ú†Ø§Ù¾)</code></pre></section></div><footer><p>ØªÛŒÙ… ÙÙ†ÛŒ ShivaTek | Ù…Ø³ØªÙ†Ø¯Ø³Ø§Ø²ÛŒ Ù…Ø§Ú˜ÙˆÙ„ Order</p></footer></body></html>